### 组件间通信

**问题背景：**

首先说明floor是home下的一个子组件，home是网站主页面，主页面中有两个相同的子页面，这里也是向后台请求数据遍历获得。

![在这里插入图片描述](https://img-blog.csdnimg.cn/bce5b067b7ec4c6faa6f6b2a1373cca6.png)

首先我们看一下遍历到的数据，floorList返回的是一个数组，数组中是两个对象，两个对象正好对应的是两个子模块。既然是两个子模块，我们就不能写在子组件floor中（在一个组件中是不能遍历出两个的），所以我们只能在父组件home中遍历出两个相同的floor组件。

![在这里插入图片描述](https://img-blog.csdnimg.cn/14b160407f4c49228bd01436cf198056.png)

1.在父组件中v-for遍历来自服务器的数据，vuex处理从服务器拿到的数据。

```js
<Floor v-for="(floor,index) in floorList" :key="floor.id" :floorInfo="floor"></Floor>
```

其中`v-bind:floorInfo="floor"`动态的绑定props。

2.在子组件floor中接受父组件传的数据,`floorInfo`是传递数据的名称`floor`传递数据的实际值，子组件应该接受名称

```js
<script>
export default {
  name: "",
  //接受父组件给的数据，书写方式有两种
  props: ["floorInfo"],
};
</script>
```

3.子组件接受之后就可以直接使用。

```js
 <li v-for="(keyword, index) in floorInfo.keywords" :key="index" :style="{ color: index % 2 != 0 ? 'cyan' : 'black' }">
    {{ keyword }}
</li>
```

